<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: sed | さよならインターネット]]></title>
  <link href="http://kenjiskywalker.github.com/kenjiskywalker/blog/categories/sed/atom.xml" rel="self"/>
  <link href="http://kenjiskywalker.github.com/kenjiskywalker/"/>
  <updated>2014-12-07T05:52:04+09:00</updated>
  <id>http://kenjiskywalker.github.com/kenjiskywalker/</id>
  <author>
    <name><![CDATA[kenjiskywalker]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[GNUのsedとBSDのsed]]></title>
    <link href="http://kenjiskywalker.github.com/kenjiskywalker/blog/2014/07/18/sed-bre/"/>
    <updated>2014-07-18T10:57:00+09:00</updated>
    <id>http://kenjiskywalker.github.com/kenjiskywalker/blog/2014/07/18/sed-bre</id>
    <content type="html"><![CDATA[<p>OSXでsedコマンドを実行した際に、正規表現が上手く動作しなかった。</p>

<h2>TL;DR</h2>

<p>BSD sedがイケてないのではなく、<br/>
GNU sedが独自で拡張正規表現を実装していただけっぽい。</p>

<ul>
<li>OSX</li>
</ul>


<p>```
['-']%
['-']% echo "hogeee" | sed -e 's/e+//'
hogeee
['-']%
['-']% sed --version
sed: illegal option -- -
usage: sed script [-Ealn] [-i extension] [file ...]</p>

<pre><code>   sed [-Ealn] [-i extension] [-e script] ... [-f script_file] ... [file ...]
</code></pre>

<p>['x']%
```</p>

<ul>
<li>Linux</li>
</ul>


<p>```
['-']#
['-']# echo "hogeee" | sed -e 's/e+//'
hog
['-']#
['-']#
['-']# sed --version
GNU sed version 4.2.1
Copyright (C) 2009 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE,
to the extent permitted by law.</p>

<p>GNU sed home page: <a href="http://www.gnu.org/software/sed/">http://www.gnu.org/software/sed/</a>.
General help using GNU software: <a href="http://www.gnu.org/gethelp/">http://www.gnu.org/gethelp/</a>.
E-mail bug reports to: <a href="&#x6d;&#97;&#x69;&#x6c;&#x74;&#x6f;&#58;&#98;&#117;&#x67;&#x2d;&#x67;&#110;&#x75;&#x2d;&#117;&#x74;&#105;&#108;&#115;&#64;&#103;&#x6e;&#117;&#46;&#x6f;&#114;&#103;">&#x62;&#x75;&#x67;&#45;&#x67;&#x6e;&#x75;&#45;&#117;&#116;&#x69;&#x6c;&#x73;&#64;&#103;&#x6e;&#x75;&#46;&#x6f;&#114;&#103;</a>.
Be sure to include the word <code>sed'' somewhere in the</code>Subject:'' field.
['-']#
```</p>

<h3>Reference</h3>

<p><a href="http://www.gnu.org/software/sed/manual/html_node/Regular-Expressions.html#Regular-Expressions">3.3 Overview of Regular Expression Syntax - GNU sed Programs</a><br/>
<a href="http://www.regular-expressions.info/posix.html">POSIX Basic Regular Expressions - Regular-Expressions.info</a></p>

<p>そもそもPOSIXで定義されている基本的な正規表現(<em>Basic Regular Expressions</em>)に<br/>
<code>+</code>やら<code>?</code>やら<code>|</code>はなくて(<em>Extended Reuglar Exression</em>)<br/>
GNU sedはそれを独自で使えるようにしている(<em>GNU extension</em>)。<br/>
BSD sedは拡張はしていないから使えない。<br/>
使うなら<code>-E</code>のオプションを利用する。って感じなのかな。</p>

<h2>追記</h2>

<p>そういえばBSDのsedで上書きしようとする場合は</p>

<p><code>
$ sed -i '' -e 's/foo/bar/' FILENAME
</code></p>

<p>みたいに<code>-i ''</code>でファイル名に空文字与えないと<br/>
ファイルに上書きされないのもハマった記憶ある。</p>
]]></content>
  </entry>
  
</feed>
